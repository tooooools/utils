{"version":3,"file":"index.js","sources":["../src/Convert.js","../node_modules/eases/back-in-out.js","../node_modules/eases/back-in.js","../node_modules/eases/back-out.js","../node_modules/eases/bounce-out.js","../node_modules/eases/bounce-in-out.js","../node_modules/eases/bounce-in.js","../node_modules/eases/circ-in-out.js","../node_modules/eases/circ-in.js","../node_modules/eases/circ-out.js","../node_modules/eases/cubic-in-out.js","../node_modules/eases/cubic-in.js","../node_modules/eases/cubic-out.js","../node_modules/eases/elastic-in-out.js","../node_modules/eases/elastic-in.js","../node_modules/eases/elastic-out.js","../node_modules/eases/expo-in-out.js","../node_modules/eases/expo-in.js","../node_modules/eases/expo-out.js","../node_modules/eases/linear.js","../node_modules/eases/quad-in-out.js","../node_modules/eases/quad-in.js","../node_modules/eases/quad-out.js","../node_modules/eases/quart-in-out.js","../node_modules/eases/quart-in.js","../node_modules/eases/quart-out.js","../node_modules/eases/quint-in-out.js","../node_modules/eases/quint-in.js","../node_modules/eases/quint-out.js","../node_modules/eases/sine-in-out.js","../node_modules/eases/sine-in.js","../node_modules/eases/sine-out.js","../node_modules/eases/index.js","../node_modules/transformation-matrix/src/fromObject.js","../node_modules/transformation-matrix/src/fromString.js","../node_modules/transformation-matrix/src/utils.js","../node_modules/transformation-matrix/src/translate.js","../node_modules/transformation-matrix/src/transform.js","../node_modules/transformation-matrix/src/rotate.js","../node_modules/transformation-matrix/src/scale.js","../node_modules/transformation-matrix/src/shear.js","../node_modules/transformation-matrix/src/skew.js","../node_modules/transformation-matrix/src/toString.js","../node_modules/transformation-matrix/src/fromDefinition.js","../node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","../node_modules/transformation-matrix/src/fromTransformAttribute.js","../node_modules/transformation-matrix/src/decompose.js","../node_modules/missing-math/dist/missing-math.m.js","../src/SVGTimeline.js"],"sourcesContent":["/* global atob, Blob, FileReader, Image, XMLHttpRequest */\n\nexport const blob = b => ({\n  toDataURL: async () => new Promise(resolve => {\n    const reader = new FileReader()\n    reader.onload = e => resolve(e.target.result)\n    reader.readAsDataURL(b)\n  }),\n\n  toObjectURL: () => URL.createObjectURL(b),\n\n  toImage: async () => {\n    const o = blob(b).toObjectURL()\n    return objectURL(o).toImage()\n  }\n})\n\nexport const image = i => ({\n  toBlob: async () => objectURL(i.src).toBlob(),\n\n  toDataURL: async () => {\n    console.log(i)\n    const b = await image(i).toBlob()\n    console.log(b)\n    return blob(b).toDataURL()\n  },\n\n  toObjectURL: async () => {\n    const b = await image(i).toBlob()\n    return blob(b).toObjectURL()\n  }\n})\n\nexport const dataURL = d => ({\n  toBlob: () => {\n    const arr = d.split(',')\n    const mime = arr[0].match(/:(.*?);/)[1]\n    const bstr = atob(arr[1])\n    let n = bstr.length\n    const u8arr = new Uint8Array(n)\n\n    while (n--) {\n      u8arr[n] = bstr.charCodeAt(n)\n    }\n\n    return new Blob([u8arr], { type: mime })\n  },\n\n  toObjectURL: () => {\n    const b = dataURL(d).toBlob()\n    return blob(b).toObjectURL()\n  }\n})\n\nexport const objectURL = o => ({\n  toBlob: async () => new Promise(resolve => {\n    const request = new XMLHttpRequest()\n    request.open('GET', o, true)\n    request.responseType = 'blob'\n    request.onload = () => resolve(request.response)\n    request.send()\n  }),\n\n  toDataURL: async () => {\n    const b = await objectURL(o).toBlob()\n    return blob(b).toDataURL()\n  },\n\n  toImage: async () => new Promise((resolve, reject) => {\n    const image = new Image()\n    image.error = reject\n    image.onload = () => resolve(image)\n    image.src = o\n  })\n})\n\nexport default {\n  blob,\n  image,\n  dataURL,\n  objectURL\n}\n","function backInOut(t) {\n  var s = 1.70158 * 1.525\n  if ((t *= 2) < 1)\n    return 0.5 * (t * t * ((s + 1) * t - s))\n  return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2)\n}\n\nmodule.exports = backInOut","function backIn(t) {\n  var s = 1.70158\n  return t * t * ((s + 1) * t - s)\n}\n\nmodule.exports = backIn","function backOut(t) {\n  var s = 1.70158\n  return --t * t * ((s + 1) * t + s) + 1\n}\n\nmodule.exports = backOut","function bounceOut(t) {\n  var a = 4.0 / 11.0\n  var b = 8.0 / 11.0\n  var c = 9.0 / 10.0\n\n  var ca = 4356.0 / 361.0\n  var cb = 35442.0 / 1805.0\n  var cc = 16061.0 / 1805.0\n\n  var t2 = t * t\n\n  return t < a\n    ? 7.5625 * t2\n    : t < b\n      ? 9.075 * t2 - 9.9 * t + 3.4\n      : t < c\n        ? ca * t2 - cb * t + cc\n        : 10.8 * t * t - 20.52 * t + 10.72\n}\n\nmodule.exports = bounceOut","var bounceOut = require('./bounce-out')\n\nfunction bounceInOut(t) {\n  return t < 0.5\n    ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n    : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5\n}\n\nmodule.exports = bounceInOut","var bounceOut = require('./bounce-out')\n\nfunction bounceIn(t) {\n  return 1.0 - bounceOut(1.0 - t)\n}\n\nmodule.exports = bounceIn","function circInOut(t) {\n  if ((t *= 2) < 1) return -0.5 * (Math.sqrt(1 - t * t) - 1)\n  return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1)\n}\n\nmodule.exports = circInOut","function circIn(t) {\n  return 1.0 - Math.sqrt(1.0 - t * t)\n}\n\nmodule.exports = circIn","function circOut(t) {\n  return Math.sqrt(1 - ( --t * t ))\n}\n\nmodule.exports = circOut","function cubicInOut(t) {\n  return t < 0.5\n    ? 4.0 * t * t * t\n    : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0\n}\n\nmodule.exports = cubicInOut","function cubicIn(t) {\n  return t * t * t\n}\n\nmodule.exports = cubicIn","function cubicOut(t) {\n  var f = t - 1.0\n  return f * f * f + 1.0\n}\n\nmodule.exports = cubicOut","function elasticInOut(t) {\n  return t < 0.5\n    ? 0.5 * Math.sin(+13.0 * Math.PI/2 * 2.0 * t) * Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n    : 0.5 * Math.sin(-13.0 * Math.PI/2 * ((2.0 * t - 1.0) + 1.0)) * Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) + 1.0\n}\n\nmodule.exports = elasticInOut","function elasticIn(t) {\n  return Math.sin(13.0 * t * Math.PI/2) * Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nmodule.exports = elasticIn","function elasticOut(t) {\n  return Math.sin(-13.0 * (t + 1.0) * Math.PI/2) * Math.pow(2.0, -10.0 * t) + 1.0\n}\n\nmodule.exports = elasticOut","function expoInOut(t) {\n  return (t === 0.0 || t === 1.0)\n    ? t\n    : t < 0.5\n      ? +0.5 * Math.pow(2.0, (20.0 * t) - 10.0)\n      : -0.5 * Math.pow(2.0, 10.0 - (t * 20.0)) + 1.0\n}\n\nmodule.exports = expoInOut","function expoIn(t) {\n  return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0))\n}\n\nmodule.exports = expoIn","function expoOut(t) {\n  return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t)\n}\n\nmodule.exports = expoOut","function linear(t) {\n  return t\n}\n\nmodule.exports = linear","function quadInOut(t) {\n    t /= 0.5\n    if (t < 1) return 0.5*t*t\n    t--\n    return -0.5 * (t*(t-2) - 1)\n}\n\nmodule.exports = quadInOut","function quadIn(t) {\n  return t * t\n}\n\nmodule.exports = quadIn","function quadOut(t) {\n  return -t * (t - 2.0)\n}\n\nmodule.exports = quadOut","function quarticInOut(t) {\n  return t < 0.5\n    ? +8.0 * Math.pow(t, 4.0)\n    : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0\n}\n\nmodule.exports = quarticInOut","function quarticIn(t) {\n  return Math.pow(t, 4.0)\n}\n\nmodule.exports = quarticIn","function quarticOut(t) {\n  return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0\n}\n\nmodule.exports = quarticOut","function qinticInOut(t) {\n    if ( ( t *= 2 ) < 1 ) return 0.5 * t * t * t * t * t\n    return 0.5 * ( ( t -= 2 ) * t * t * t * t + 2 )\n}\n\nmodule.exports = qinticInOut","function qinticIn(t) {\n  return t * t * t * t * t\n}\n\nmodule.exports = qinticIn","function qinticOut(t) {\n  return --t * t * t * t * t + 1\n}\n\nmodule.exports = qinticOut","function sineInOut(t) {\n  return -0.5 * (Math.cos(Math.PI*t) - 1)\n}\n\nmodule.exports = sineInOut","function sineIn (t) {\n  var v = Math.cos(t * Math.PI * 0.5)\n  if (Math.abs(v) < 1e-14) return 1\n  else return 1 - v\n}\n\nmodule.exports = sineIn\n","function sineOut(t) {\n  return Math.sin(t * Math.PI/2)\n}\n\nmodule.exports = sineOut","module.exports = {\n\t'backInOut': require('./back-in-out'),\n\t'backIn': require('./back-in'),\n\t'backOut': require('./back-out'),\n\t'bounceInOut': require('./bounce-in-out'),\n\t'bounceIn': require('./bounce-in'),\n\t'bounceOut': require('./bounce-out'),\n\t'circInOut': require('./circ-in-out'),\n\t'circIn': require('./circ-in'),\n\t'circOut': require('./circ-out'),\n\t'cubicInOut': require('./cubic-in-out'),\n\t'cubicIn': require('./cubic-in'),\n\t'cubicOut': require('./cubic-out'),\n\t'elasticInOut': require('./elastic-in-out'),\n\t'elasticIn': require('./elastic-in'),\n\t'elasticOut': require('./elastic-out'),\n\t'expoInOut': require('./expo-in-out'),\n\t'expoIn': require('./expo-in'),\n\t'expoOut': require('./expo-out'),\n\t'linear': require('./linear'),\n\t'quadInOut': require('./quad-in-out'),\n\t'quadIn': require('./quad-in'),\n\t'quadOut': require('./quad-out'),\n\t'quartInOut': require('./quart-in-out'),\n\t'quartIn': require('./quart-in'),\n\t'quartOut': require('./quart-out'),\n\t'quintInOut': require('./quint-in-out'),\n\t'quintIn': require('./quint-in'),\n\t'quintOut': require('./quint-out'),\n\t'sineInOut': require('./sine-in-out'),\n\t'sineIn': require('./sine-in'),\n\t'sineOut': require('./sine-out')\n}","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default: {\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n    }\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {...Matrix | Matrix[]} Matrices listed as separate parameters or in an array\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @param [cx] {number} If (cx,cy) are supplied the scaling is about this point\n * @param [cy] {number} If (cx,cy) are supplied the scaling is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined, cx = undefined, cy = undefined) {\n  if (isUndefined(sy)) sy = sx\n\n  const scaleMatrix = {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return scaleMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    scaleMatrix,\n    translate(-cx, -cy)\n  ])\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by Peggy 3.0.0.\n//\n// https://peggyjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  var self = Error.call(this, message);\n  // istanbul ignore next Check is a necessary evil to support older environments\n  if (Object.setPrototypeOf) {\n    Object.setPrototypeOf(self, peg$SyntaxError.prototype);\n  }\n  self.expected = expected;\n  self.found = found;\n  self.location = location;\n  self.name = \"SyntaxError\";\n  return self;\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\nfunction peg$padEnd(str, targetLength, padString) {\n  padString = padString || \" \";\n  if (str.length > targetLength) { return str; }\n  targetLength -= str.length;\n  padString += padString.repeat(targetLength);\n  return str + padString.slice(0, targetLength);\n}\n\npeg$SyntaxError.prototype.format = function(sources) {\n  var str = \"Error: \" + this.message;\n  if (this.location) {\n    var src = null;\n    var k;\n    for (k = 0; k < sources.length; k++) {\n      if (sources[k].source === this.location.source) {\n        src = sources[k].text.split(/\\r\\n|\\n|\\r/g);\n        break;\n      }\n    }\n    var s = this.location.start;\n    var offset_s = (this.location.source && (typeof this.location.source.offset === \"function\"))\n      ? this.location.source.offset(s)\n      : s;\n    var loc = this.location.source + \":\" + offset_s.line + \":\" + offset_s.column;\n    if (src) {\n      var e = this.location.end;\n      var filler = peg$padEnd(\"\", offset_s.line.toString().length, ' ');\n      var line = src[s.line - 1];\n      var last = s.line === e.line ? e.column : line.length + 1;\n      var hatLen = (last - s.column) || 1;\n      str += \"\\n --> \" + loc + \"\\n\"\n          + filler + \" |\\n\"\n          + offset_s.line + \" | \" + line + \"\\n\"\n          + filler + \" | \" + peg$padEnd(\"\", s.column - 1, ' ')\n          + peg$padEnd(\"\", hatLen, \"^\");\n    } else {\n      str += \"\\n at \" + loc;\n    }\n  }\n  return str;\n};\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts.join(\"\") + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n  var peg$source = options.grammarSource;\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$literalExpectation(\".\", false);\n  var peg$e11 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e12 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e13 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e14 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n      return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n    };\n  var peg$f3 = function(tx, ty) {\n      var t = {type: 'translate', tx: tx};\n      if (ty) t.ty = ty;\n      return [t];\n    };\n  var peg$f4 = function(sx, sy) {\n      var s = {type:'scale', sx: sx};\n      if (sy) s.sy = sy;\n      return [s];\n    };\n  var peg$f5 = function(angle, c) {\n      var r = {type:'rotate', angle: angle};\n      if (c) {\n        r.cx = c[0];\n        r.cy = c[1];\n      }\n      return [r];\n    };\n  var peg$f6 = function(angle) {\n      return [{type: 'skewX', angle: angle}];\n    };\n  var peg$f7 = function(angle) {\n      return [{type: 'skewY', angle: angle}];\n    };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(f, e) { return [f, e || null].join(\"\")};\n  var peg$f14 = function(d, e) { return [d, e].join(\"\")};\n  var peg$f15 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f16 = function(d) { return d.join(\"\"); };\n  var peg$f17 = function(s, d) { return ['e', s, d.join(\"\")].join(\"\") };\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$maxFailPos = 0;\n  var peg$maxFailExpected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return {\n      source: peg$source,\n      start: peg$savedPos,\n      end: peg$currPos\n    };\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  function peg$computeLocation(startPos, endPos, offset) {\n    var startPosDetails = peg$computePosDetails(startPos);\n    var endPosDetails = peg$computePosDetails(endPos);\n\n    var res = {\n      source: peg$source,\n      start: {\n        offset: startPos,\n        line: startPosDetails.line,\n        column: startPosDetails.column\n      },\n      end: {\n        offset: endPos,\n        line: endPosDetails.line,\n        column: endPosDetails.column\n      }\n    };\n    if (offset && peg$source && (typeof peg$source.offset === \"function\")) {\n      res.start = peg$source.offset(res.start);\n      res.end = peg$source.offset(res.end);\n    }\n    return res;\n  }\n\n  function peg$fail(expected) {\n    if (peg$currPos < peg$maxFailPos) { return; }\n\n    if (peg$currPos > peg$maxFailPos) {\n      peg$maxFailPos = peg$currPos;\n      peg$maxFailExpected = [];\n    }\n\n    peg$maxFailExpected.push(expected);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e0); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                                if (peg$silentFails === 0) { peg$fail(peg$e2); }\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e3); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e4); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e5); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e6); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    s0 = peg$currPos;\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e7); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n        if (peg$silentFails === 0) { peg$fail(peg$e1); }\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n            if (peg$silentFails === 0) { peg$fail(peg$e2); }\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e8); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      peg$savedPos = s0;\n      s0 = peg$f13(s1, s2);\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1, s2);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e10); }\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f15(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n          if (peg$silentFails === 0) { peg$fail(peg$e10); }\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f16(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n    if (s0 === peg$FAILED) {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e9); }\n    }\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    s0 = peg$currPos;\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e11); }\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f17(s2, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e12); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e13); }\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n      if (peg$silentFails === 0) { peg$fail(peg$e14); }\n    }\n\n    return s0;\n  }\n\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$fail(peg$endExpectation());\n    }\n\n    throw peg$buildStructuredError(\n      peg$maxFailExpected,\n      peg$maxFailPos < input.length ? input.charAt(peg$maxFailPos) : null,\n      peg$maxFailPos < input.length\n        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)\n        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)\n    );\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n\n  peg$parse as parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {MatrixDescriptor[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","import { scale } from './scale'\nimport { compose } from './transform'\n/**\n * Decompose a matrix into translation, scaling and rotation components, optionally\n * take horizontal and vertical flip in to consideration.\n * Note this function decomposes a matrix in rotation -> scaling -> translation order. I.e. for\n * certain translation T {tx, ty}, rotation R and scaling S { sx, sy }, it's only true for:\n *  decomposeTSR(compose(T, S, R)) === { translate: T, rotation: R, scale: S }\n * composing in a different order may yield a different decomposition result.\n * @param matrix {Matrix} Affine Matrix\n * @param  flipX {boolean} Whether the matrix contains vertical flip, i.e. mirrors on x-axis\n * @param  flipY {boolean} Whether the matrix contains horizontal flip, i.e. mirrors on y-axis\n * @returns {Transform} A transform object consisted by its translation, scaling\n * and rotation components.\n */\nexport function decomposeTSR (matrix, flipX = false, flipY = false) {\n  // Remove flip from the matrix first - flip could be incorrectly interpreted as\n  // rotations (e.g. flipX + flipY = rotate by 180 degrees).\n  // Note flipX is a vertical flip, and flipY is a horizontal flip.\n  if (flipX) {\n    if (flipY) {\n      matrix = compose(matrix, scale(-1, -1))\n    } else {\n      matrix = compose(matrix, scale(1, -1))\n    }\n  } else if (flipY) {\n    matrix = compose(matrix, scale(-1, 1))\n  }\n\n  const a = matrix.a; const b = matrix.b\n  const c = matrix.c; const d = matrix.d\n  let scaleX, scaleY, rotation\n\n  if (a !== 0 || c !== 0) {\n    const hypotAc = Math.hypot(a, c)\n    scaleX = hypotAc\n    scaleY = (a * d - b * c) / hypotAc\n    const acos = Math.acos(a / hypotAc)\n    rotation = c > 0 ? -acos : acos\n  } else if (b !== 0 || d !== 0) {\n    const hypotBd = Math.hypot(b, d)\n    scaleX = (a * d - b * c) / hypotBd\n    scaleY = hypotBd\n    const acos = Math.acos(b / hypotBd)\n    rotation = Math.PI / 2 + (d > 0 ? -acos : acos)\n  } else {\n    scaleX = 0\n    scaleY = 0\n    rotation = 0\n  }\n\n  // put the flip factors back\n  if (flipY) {\n    scaleX = -scaleX\n  }\n\n  if (flipX) {\n    scaleY = -scaleY\n  }\n\n  return {\n    translate: { tx: matrix.e, ty: matrix.f },\n    scale: { sx: scaleX, sy: scaleY },\n    rotation: { angle: rotation }\n  }\n}\n","function n(n,t,r){return Math.max(t,Math.min(n,r))}function t(n,r,o){return n>o?n%o:n<r?t(n+o,r,o):n}function r(n,t,r,u){return void 0===u&&(u=!1),o(n,t,r,0,1,u)}function o(t,r,o,u,i,a){void 0===a&&(a=!1);var e=(t-r)*(i-u)/(o-r)+u;return a?n(e,u,i):e}function u(n,t,r){return n+r*(t-n)}function i(n,t,r){return void 0===r&&(r=Math.random),void 0!==t?u(n,t,r()):u(0,n,r())}function a(n,t,r){return void 0===r&&(r=Math.random),Math.floor(i(n,t,r))}function e(n){return 180*n/Math.PI}function f(n){return n*Math.PI/180}function c(n,t){return Math.ceil(n/t)*t}function h(n,t){return Math.round(n/t)*t}function M(n,t){return Math.floor(n/t)*t}function d(n,t){var r=n-Math.floor(n);return t?+r.toFixed(t):r}export{n as clamp,t as wrap,r as normalize,o as map,u as lerp,i as random,a as randomInt,e as degrees,f as radians,c as ceilTo,h as roundTo,M as floorTo,d as fract};\n//# sourceMappingURL=missing-math.m.js.map\n","/**\n  new Timeline({\n    duration: '1s'|'1000ms'|60,\n    frameRate: 60,\n    loop: true|false,\n    interpolations: {\n      '.css-selector': {\n        stagger: '100ms', // stagger|span\n        property1: {\n          initial: 0\n          from: 0,\n          to: 100,\n          delay: '1s',\n          duration: '3000ms',\n          easing: 'linear' // See https://github.com/mattdesl/eases\n        },\n        property2: {…},\n      },\n      'svg > path': {\n        d: {\n          from: [[0, 0], [0, 1], [0, 2]]\n          to: [[0, 0, [1, 1], [0, 2]]]\n        }\n      }\n    }\n  })\n */\n\nimport eases from 'eases'\nimport * as Transform from 'transformation-matrix'\nimport { clamp, lerp, radians } from 'missing-math'\n\nconst SUPPORTED_TRANSFORM_ATTRIBUTES = [\n  'translateX',\n  'translateY',\n  'rotate',\n  'scale',\n  'scaleX',\n  'scaleY'\n]\n\nconst lerpArray = (a, b, t) => Array.isArray(a) ? a.map((v, i) => lerpArray(v, b[i], t)) : lerp(a, b, t)\n\nfunction toPathData (arr, { decimals = 3, close = true } = {}) {\n  let d = ''\n  for (let i = 0; i < arr.length + (close ? 1 : 0); i++) {\n    d += i ? ' L ' : 'M '\n    d += arr[i % arr.length][0].toFixed(decimals) + ' ' + arr[i % arr.length][1].toFixed(decimals)\n  }\n\n  if (close) d += ' Z'\n\n  return d\n}\n\nexport default class SVGTimeline {\n  constructor ({\n    interpolations = {},\n    loop = false,\n    duration = 0,\n    frameRate = 60\n  } = {}) {\n    this.props = { interpolations, duration, frameRate, loop }\n    this.length = this.toFrames(duration)\n  }\n\n  get interpolations () { return this.props.interpolations }\n  set interpolations (o) { this.props.interpolations = o }\n\n  get frameRate () { return this.props.frameRate }\n\n  set loop (s) { this.props.loop = s }\n  get loop () { return this.props.loop }\n\n  // Convert '1s', '10ms', 10 to a number of frames based on a frame rate\n  toFrames (duration = 0) {\n    const [, value, unit] = (/([-+]?[0-9.]+)([a-z%]*)/.exec(duration) ?? [parseFloat(duration)])\n    if (!unit) return value\n\n    // Handle 'ms' and 's', 's' being the default\n    let factor = 1\n    if (unit === 'ms') factor = 1000\n\n    return Math.floor((value / factor) * this.props.frameRate)\n  }\n\n  // Interpolate a specific frame and apply the whole timeline to a document\n  apply (document, frameIndex = null) {\n    // Iterate all selectors\n    for (const selector in this.props.interpolations) {\n      const els = document.querySelectorAll(selector)\n      if (!els) continue\n\n      // Prepare stagger\n      let staggerDelay = 0\n      const staggerAmt = this.props.interpolations[selector].span\n        ? this.toFrames(this.props.interpolations[selector].span ?? 0) / els.length\n        : this.toFrames(this.props.interpolations[selector].stagger ?? 0)\n\n      // Iterate all elements matching current selector\n      for (const el of els) {\n        // Iterate all defined interpolations for this selector\n        for (let attr in this.props.interpolations[selector]) {\n          if (attr === 'stagger') continue\n          const {\n            initial,\n            from,\n            to,\n            delay,\n            duration,\n            easing\n          } = this.props.interpolations[selector][attr]\n\n          const d = this.toFrames(duration ?? this.length)\n          const dl = this.toFrames(delay ?? 0) + staggerDelay\n          const t = clamp((frameIndex - dl) / d, 0, 1)\n\n          const ease = eases[easing ?? 'linear']\n          if (!ease) throw new Error(`easing function '${easing}' does not exist. See https://github.com/mattdesl/eases for available functions.`)\n\n          let v = lerpArray(frameIndex < dl && initial !== undefined ? initial : from, to, ease(t))\n\n          // Handle SVG transformations\n          if (SUPPORTED_TRANSFORM_ATTRIBUTES.includes(attr)) {\n            const initialValue = el.getAttribute('transform') ?? 'translate(0,0)'\n\n            const initialMatrix = /^matrix/i.test(initialValue)\n              ? Transform.fromString(initialValue)\n              : Transform.fromDefinition(Transform.fromTransformAttribute(initialValue))[0]\n\n            const { translate, scale, rotation } = Transform.decomposeTSR(\n              initialMatrix ?? Transform.translate(0)\n            )\n\n            switch (attr) {\n              case 'translateX':\n                translate.tx = v\n                break\n              case 'translateY':\n                translate.ty = v\n                break\n              case 'scale':\n                scale.sx = v\n                scale.sy = v\n                break\n              case 'scaleX':\n                scale.sx = v\n                break\n              case 'scaleY':\n                scale.sy = v\n                break\n              case 'rotate':\n                rotation.angle = radians(v)\n                break\n            }\n\n            const matrix = Transform.compose(\n              Transform.translate(translate.tx ?? 0, translate.ty ?? 0),\n              Transform.scale(scale.sx ?? 1, scale.sy ?? 1),\n              Transform.rotate(rotation.angle ?? 0)\n            )\n\n            attr = 'transform'\n            v = Transform.toString(matrix)\n          }\n\n          if (attr === 'd') v = toPathData(v)\n          el.setAttribute(attr, v)\n        }\n\n        // Increment delay for the next element matching the current selector\n        staggerDelay += staggerAmt\n      }\n    }\n  }\n\n  toJSON () {\n    return this.props\n  }\n}\n"],"names":["blob","b","resolve","reader","e","o","objectURL","image","i","dataURL","d","arr","mime","bstr","n","u8arr","request","reject","Convert","backInOut","t","backInOut_1","backIn","backIn_1","backOut","backOut_1","bounceOut","a","c","ca","cb","cc","t2","bounceOut_1","require$$0","bounceInOut","bounceInOut_1","bounceIn","bounceIn_1","circInOut","circInOut_1","circIn","circIn_1","circOut","circOut_1","cubicInOut","cubicInOut_1","cubicIn","cubicIn_1","cubicOut","f","cubicOut_1","elasticInOut","elasticInOut_1","elasticIn","elasticIn_1","elasticOut","elasticOut_1","expoInOut","expoInOut_1","expoIn","expoIn_1","expoOut","expoOut_1","linear","linear_1","quadInOut","quadInOut_1","quadIn","quadIn_1","quadOut","quadOut_1","quarticInOut","quartInOut","quarticIn","quartIn","quarticOut","quartOut","qinticInOut","quintInOut","qinticIn","quintIn","qinticOut","quintOut","sineInOut","sineInOut_1","sineIn","v","sineIn_1","sineOut","sineOut_1","eases","require$$1","require$$2","require$$3","require$$4","require$$5","require$$6","require$$7","require$$8","require$$9","require$$10","require$$11","require$$12","require$$13","require$$14","require$$15","require$$16","require$$17","require$$18","require$$19","require$$20","require$$21","require$$22","require$$23","require$$24","require$$25","require$$26","require$$27","require$$28","require$$29","require$$30","fromObject","object","matrixRegex","fromString","string","parsed","isUndefined","val","translate","tx","ty","transform","matrices","multiply","m1","m2","rest","m","compose","cos","sin","PI","rotate","angle","cx","cy","cosAngle","sinAngle","rotationMatrix","rotateDEG","scale","sx","sy","scaleMatrix","shear","shx","shy","tan","skew","ax","ay","skewDEG","toString","matrix","fromDefinition","definitionOrArrayOfDefinition","mapper","descriptor","peg$subclass","child","parent","C","peg$SyntaxError","message","expected","found","location","self","peg$padEnd","str","targetLength","padString","sources","src","k","s","offset_s","loc","filler","line","last","hatLen","DESCRIBE_EXPECTATION_FNS","expectation","literalEscape","escapedParts","part","classEscape","hex","ch","describeExpectation","describeExpected","descriptions","j","describeFound","peg$parse","input","options","peg$FAILED","peg$source","peg$startRuleFunctions","peg$parsetransformList","peg$startRuleFunction","peg$c0","peg$c1","peg$c2","peg$c3","peg$c4","peg$c5","peg$c6","peg$c7","peg$c8","peg$c9","peg$r0","peg$r1","peg$r2","peg$r3","peg$e0","peg$literalExpectation","peg$e1","peg$e2","peg$e3","peg$e4","peg$e5","peg$e6","peg$e7","peg$e8","peg$e9","peg$otherExpectation","peg$e10","peg$e11","peg$classExpectation","peg$e12","peg$e13","peg$e14","peg$f0","ts","peg$f1","peg$f2","peg$f3","peg$f4","peg$f5","r","peg$f6","peg$f7","peg$f8","peg$f9","peg$f10","peg$f11","n1","n2","peg$f12","ds","peg$f13","peg$f14","peg$f15","d1","d2","peg$f16","peg$f17","peg$currPos","peg$posDetailsCache","peg$maxFailPos","peg$maxFailExpected","peg$silentFails","peg$result","text","ignoreCase","parts","inverted","peg$endExpectation","description","peg$computePosDetails","pos","details","p","peg$computeLocation","startPos","endPos","offset","startPosDetails","endPosDetails","res","peg$fail","peg$buildStructuredError","s0","s1","s2","s3","s4","peg$parsewsp","peg$parsetransforms","peg$parsetransform","peg$parsecommaWsp","peg$parsematrix","peg$parsetranslate","peg$parsescale","peg$parserotate","peg$parseskewX","peg$parseskewY","s5","s6","s7","s8","s9","s10","s11","s12","s13","s14","s15","s16","s17","peg$parsenumber","peg$parsecommaWspNumber","peg$parsecommaWspTwoNumbers","peg$parsesign","peg$parsefloatingPointConstant","peg$parseintegerConstant","peg$parsecomma","peg$parsedigitSequence","peg$parsefractionalConstant","peg$parseexponent","peg$parsedigit","fromTransformAttribute","transformString","parse","decomposeTSR","flipX","flipY","scaleX","scaleY","rotation","hypotAc","acos","hypotBd","u","SUPPORTED_TRANSFORM_ATTRIBUTES","lerpArray","lerp","toPathData","decimals","close","SVGTimeline","interpolations","loop","duration","frameRate","value","unit","factor","document","frameIndex","selector","els","staggerDelay","staggerAmt","el","attr","initial","from","to","delay","easing","dl","clamp","ease","initialValue","initialMatrix","Transform.fromString","Transform.fromDefinition","Transform.fromTransformAttribute","Transform.decomposeTSR","Transform.translate","radians","Transform.compose","Transform.scale","Transform.rotate","Transform.toString"],"mappings":"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","x_google_ignoreList":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47]}